<?xml version="1.0"?>

<config>
    <workload>
        <name>RAMCloud</name>
        <description>RAMCloud ClusterPerf</description>
        <path>../KV-stores/ramcloud/ramcloud.py</path>
        <cl-options>
            <command>
                <name>coordinator-node</name>
                <value>f1</value>
            </command>
            <command>
                <name>number-servers</name>
                <value>4</value>
            </command>
        </cl-options>
    </workload>


    <workload>
        <name>Nginx</name>
        <description>Nginx webserver - ab test</description>
        <path>../nginx/nginx.py</path>
        <cl-options>
            <command>
                <name>nginx_node</name>
                <value>f10</value>
            </command>
            <command>
                <name>ab_node</name>
                <value>f11</value>
            </command>
            <command>
                <name>--ab_num_requests</name>
                <value>1000000</value>
            </command>
        </cl-options>
    </workload>

    <benchmark>
        <name>Benchmark-nginx</name>
        <description>Nginx test</description>
        <sequential>
            <item name="Nginx"/>
        </sequential>
    </benchmark>

    <benchmark>
        <name>Benchmark-sequential</name>
        <description>Benchmark that runs every workload sequentially</description>
        <sequential>
            <item name="RAMCloud"/>
            <item name="Nginx"/>
        </sequential>
    </benchmark>
    <benchmark>
        <name>Benchmark-concurrent</name>
        <description>Benchmark that runs two workloads concurrently in the same box</description>
        <concurrent>
            <workload-instance name="RAMCloud"/>
            <workload-instance name="Nginx"/>
        </concurrent>
        <results-directory>results</results-directory>
    </benchmark>
</config>
